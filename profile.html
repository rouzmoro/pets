<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Профиль</title>
    <link rel="icon" href="icons/logo-dark.svg" type="image/svg+xml">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="css/index.css">
    <script src="js/theme.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://unpkg.com/just-validate@latest/dist/just-validate.production.min.js"></script>
    <script src="https://unpkg.com/imask"></script>
    <script src="js/options.js"></script>
    <script src="js/customSelect.js"></script>
    <script defer src="js/validation.js"></script>
    <script defer src="js/tabs.js"></script>
</head>

<body>
    <header class="header">
        <input id="burger-checkbox" type="checkbox">
        <label class="burger" for="burger-checkbox">
            <span class="burger-line"></span>
            <span class="burger-line"></span>
            <span class="burger-line"></span>
        </label>
        <aside id="header-menu">
            <img class="menu-logo" src="icons/logo.svg" alt="">
            <nav class="menu">
                <ul class="menu-list">
                    <li class="menu-item">
                        <a class="menu-link" href="index.html"><img class="menu-icon purple-gradient"
                                src="icons/home.svg" alt=""><span class="menu-name">Home</span></a>
                    </li>
                    <li class="menu-item">
                        <a class="menu-link" href="pets.html"><img class="menu-icon orange-gradient"
                                src="icons/pets.svg" alt=""><span class="menu-name">Pets</span></a>
                    </li>
                    <li class="menu-item">
                        <a class="menu-link" href="blog.html"><img class="menu-icon yellow-gradient"
                                src="icons/blog.svg" alt=""><span class="menu-name">Blog</span></a>
                    </li>
                    <li class="menu-item">
                        <a class="menu-link" href=""><img class="menu-icon pink-gradient" src="icons/chat.svg"
                                alt=""><span class="menu-name">Chat</span></a>
                    </li>
                    <li class="menu-item">
                        <a class="menu-link active" href="profile.html"><img class="menu-icon green-gradient"
                                src="icons/person.svg" alt=""><span class="menu-name">Profile</span></a>
                    </li>
                    <li class="menu-item">
                        <a class="menu-link" href=""><img class="menu-icon blue" src="icons/logout.svg" alt=""><span
                                class="menu-name">Logout</span></a>
                    </li>
                </ul>
            </nav>
        </aside>
        <h1 class="header-title">Home</h1>
        <input id="switcher-checkbox" type="checkbox">
        <label class="header-switcher" for="switcher-checkbox">
            <span class="switcher"></span>
        </label>
        <button class="profile-push active" onclick="this.classList.toggle('active')"></button>
        <div class="profile-image" style="background-image: url('images/profile.jpg')"></div>
    </header>
    <main>
        <div class="main">
            <div class="profile-buttons">
                <button class="profile-button profile-button-active box" id="account">Аккаунт</button>
                <button class="profile-button box" id="settings">Настройки</button>
                <button class="profile-button box" id="pets">Ваши питомцы</button>
            </div>
            <form class="profile-form box" id="account-form">
                <fieldset class="account-section information">
                    <h2 class="profile-title">Информация</h2>
                    <div class="account-image"></div>
                    <div class="account-form">
                        <label class="input-text-label">
                            <span class="input-text-title">Имя</span>
                            <input class="input-text" id="account-name" type="text" name="name" value="John Doe">
                        </label>
                        <label class="input-text-label">
                            <span class="input-text-title">Дата рождения</span>
                            <input class="input-text" id="account-birthdate" type="text"
                                data-mask-options='{ "mask": "date" }'>
                        </label>
                        <label class="input-text-label">
                            <span class="input-text-title">Статус</span>
                            <input class="input-text" id="account-status" type="text" value="Буба не работает!">
                        </label>
                        <label class="input-text-label">
                            <span class="input-text-title">Местоположение</span>
                            <input class="input-text" id="account-location" type="text" value="Germany, Hamburg">
                        </label>
                    </div>
                </fieldset>
                <fieldset class="account-section security">
                    <h2 class="profile-title">Безопасность</h2>
                    <div class="account-form" action="">
                        <label class="input-text-label">
                            <input class="input-text" id="account-password-current" type="password"
                                placeholder="Текущий пароль">
                        </label>
                        <label class="input-text-label">
                            <input class="input-text" id="account-password-new" type="password"
                                placeholder="Новый пароль">
                        </label>
                    </div>
                </fieldset>
                <button class="button small">Сохранить</button>
            </form>
            <form class="profile-form box hide" id="settings-form">
                <h2 class="profile-title">Настройки</h2>
                <fieldset class="settings-section">
                    <h3 class="profile-subtitle">Аккаунт</h3>
                    <div class="settings-form" action="">
                        <label class="settings-label">
                            <input class="input-checkbox" type="checkbox">
                            <span class="checkbox"></span>
                            Включить уведомления
                        </label>
                        <label class="settings-label">
                            <input class="input-checkbox" type="checkbox">
                            <span class="checkbox"></span>
                            Получать новостную рассылку
                        </label>
                    </div>
                </fieldset>
                <fieldset class="settings-section">
                    <h3 class="profile-subtitle">Приложение</h3>
                    <div class="settings-form" action="">
                        <label class="settings-label">
                            <input class="input-checkbox" type="checkbox">
                            <span class="checkbox"></span>
                            Включить ночной режим
                        </label>
                        <label class="settings-label">
                            <input class="input-checkbox" type="checkbox">
                            <span class="checkbox"></span>
                            Получать уведомления со звуком
                        </label>
                        <label class="settings-label">
                            <input class="input-checkbox" type="checkbox">
                            <span class="checkbox"></span>
                            Браузерные уведомления
                        </label>
                    </div>
                </fieldset>
            </form>
            <form class="profile-form box hide" id="pets-form">
                <div class="steps">
                    <div class="step"><span>1</span></div>
                    <span class="step-separator"></span>
                    <div class="step"><span>2</span></div>
                    <span class="step-separator"></span>
                    <div class="step"><span>3</span></div>
                    <span class="step-separator"></span>
                    <div class="step"><span>4</span></div>
                </div>
                <div class="profile-separator"></div>
                <div class="tab hide">
                    <p class="pets-title">Давайте узнаем немного о вашем питомце?</p>
                    <fieldset class="pets-fieldset-main">
                        <label class="input-text-label">
                            <input class="input-text" id="pet-name" type="text" placeholder="Имя питомца">
                        </label>
                        <label class="gender-label">
                            <input id="gender-checkbox" type="checkbox">
                            <span class="gender-switcher"></span>
                        </label>
                        <label class="input-text-label">
                            <span class="input-text-title">Опишите вашего питомца</span>
                            <input class="input-text" id="pet-description" type="text">
                        </label>
                        <fieldset class="pets-fieldset">
                            <span>С какой целью выкладываете питомца?</span>
                            <div class="pets-radio-container">
                                <label class="pets-radio">
                                    <input class="input-radio" type="radio" name="reason" checked>
                                    <span class="radio"></span>
                                    Просто показываю
                                </label>
                                <label class="pets-radio">
                                    <input class="input-radio" type="radio" name="reason">
                                    <span class="radio"></span>
                                    Отдаю в добрые руки
                                </label>
                                <label class="pets-radio">
                                    <input class="input-radio" type="radio" name="reason">
                                    <span class="radio"></span>
                                    Торгую микрочелами
                                </label>
                            </div>
                        </fieldset>
                    </fieldset>
                </div>
                <div class="tab hide">
                    <div class="pets-titles">
                        <span class="pets-title">Загрузите пару изображений питомца</span>
                        <span class="pets-subtitle">Вы можете загрузить не более 15 изображений</span>
                    </div>
                    <label class="attachments-list">
                        <input type="file" accept="image/*" multiple>
                        <div class="attachments-title"><span>Выберете файлы</span> или перетащите их сюда</div>
                    </label>
                </div>
                <div class="tab hide">
                    <div class="pets-titles">
                        <span class="pets-title">Давайте узнаем больше о вашем питомце</span>
                    </div>
                    <span>Ваш питомец...</span>
                    <div class="pets-wrap">
                        <div class="animal-buttons">
                            <label class="animal-button" id="cats">
                                <input type="radio" name="animal" checked>
                                <span>Кот</span>
                            </label>
                            <label class="animal-button" id="dogs">
                                <input type="radio" name="animal">
                                <span>Собака</span>
                            </label>
                            <label class="animal-button" id="birds">
                                <input type="radio" name="animal">
                                <span>Птица</span>
                            </label>
                            <label class="animal-button" id="hares">
                                <input type="radio" name="animal">
                                <span>Заяц</span>
                            </label>
                            <label class="animal-button" id="mice">
                                <input type="radio" name="animal">
                                <span>Мышь</span>
                            </label>
                            <label class="animal-button" id="others">
                                <input type="radio" name="animal">
                                <span>Другой</span>
                            </label>
                        </div>
                        <div class="pets-input-container">
                            <div class="select">
                                <div class="select__header">
                                    <span class="select__current">Порода</span>
                                </div>
                                <div class="select__body">
                                    <div class="select__item">Макрочел</div>
                                    <div class="select__item">Гигачел</div>
                                    <div class="select__item">Микрочел</div>
                                    <div class="select__item">Суперчел</div>
                                    <div class="select__item">Мегачел</div>
                                </div>
                            </div>
                            <label class="input-text-label">
                                <input class="input-text" id="pet-birthdate" type="text">
                            </label>
                            <label class="input-text-label">
                                <input class="input-text" id="pet-weight" type="number" placeholder="Вес, кг">
                            </label>
                            <div class="select">
                                <div class="select__header">
                                    <span class="select__current">Страна</span>
                                </div>
                                <div class="select__body">
                                    <div class="select__item">Германия</div>
                                    <div class="select__item">Россия</div>
                                </div>
                            </div>
                            <div class="select">
                                <div class="select__header">
                                    <span class="select__current">Город</span>
                                </div>
                                <div class="select__body">
                                    <div class="select__item">Пермь</div>
                                    <div class="select__item">Москва</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab hide">
                    <img class="img-succes" src="images/succes.png" alt="">
                    <span class="succes-title">Вы успешно добавили питомца</span>
                </div>
                <div class="pets-buttons">
                    <button class="button small" id="prevBtn" type="button" onclick="nextPrev(-1)">Назад</button>
                    <button class="button small" id="nextBtn" type="button" onclick="nextPrev(1)">Дальше</button>
                </div>
            </form>
        </div>
    </main>
    <script>
        let attachments = document.querySelector('.attachments-list');
        let attach = document.querySelector('.attachments-title');

        function inputImage(files) {
            for (let file of files) {
                if (file && file.type.startsWith("image/")) {
                    displayImage(file);
                } else {
                    alert('Можно загружать только изображения.');
                }
            }

            if (!attachments.classList.contains('active')) {
                attachments.classList.add('active');
                attach.className = 'attachment add';
                attach.textContent = '+';
            }
        };

        function displayImage(file) {
            let div = document.createElement('div');
            let img = document.createElement('img');
            let imageURL = URL.createObjectURL(file);

            attach.before(div);
            div.classList.add('attachment');
            div.append(img);
            img.src = imageURL;

            img.onload = () => URL.revokeObjectURL(imageURL);
        }

        attachments.addEventListener('dragover', event => {
            event.stopPropagation();
            event.preventDefault();
            event.dataTransfer.dropEffect = 'copy';
        });

        attachments.addEventListener('drop', event => {
            event.preventDefault();
            let files = event.dataTransfer.files;
            inputImage(files);
        });

        attachments.addEventListener('change', event => {
            const maxFiles = 15;
            let input = document.querySelector('.attachments-list input');
            let images = document.querySelectorAll('.attachment img');
            let files = input.files;
            if (files.length > maxFiles || (images.length + files.length) > maxFiles) {
                alert(`Вы можете загрузить не более ${maxFiles} изображений.`);
                return false
            }
            inputImage(files);
        });
    </script>

    <script>
        let test = document.querySelector('#account-birthdate');
        let test2 = document.querySelector('#pet-birthdate');

        const maskOptions = {
            mask: Date,
            pattern: 'd/`m/`Y',
            format: function (date) {
                var day = date.getDate();
                var month = date.getMonth() + 1;
                var year = date.getFullYear();

                if (day < 10) day = "0" + day;
                if (month < 10) month = "0" + month;

                return [day, month, year].join('/');
            },
            // define str -> date convertion
            parse: function (str) {
                var yearMonthDay = str.split('/');
                return new Date(yearMonthDay[2], yearMonthDay[1] - 1, yearMonthDay[0]);
            },
            min: new Date(1980, 0, 1),
            max: new Date(2020, 0, 1),
            lazy: false,
            placeholderChar: '-',
        };

        const mask = IMask(test, maskOptions);
        const mask2 = IMask(test2, maskOptions);
    </script>

</body>

</html>